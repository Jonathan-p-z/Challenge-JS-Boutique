<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Mon Profil</title>
  <link rel="stylesheet" href="/assets/css/header.css">
  <link rel="stylesheet" href="/assets/css/footer.css">
  <link rel="stylesheet" href="/assets/css/profil.css">
</head>

<body>
  <%- include('../partials/header', { connect: true }) %>

  <main class="profil-container">
    <section class="profil-header">
      <h1>Bienvenue, <%= user.email %></h1>
      <a href="/panier" class="btn-panier">Voir mon panier üõí</a>
    </section>

    <section id="favoris">
      <h2>Mes Favoris</h2>

      <% if (favoris && favoris.length > 0) { %>
        <div class="products-grid">
          <% favoris.forEach(fav => { %>
            <div class="card" data-id="<%= fav.id %>">
              <img src="<%= fav.imageUrl %>" alt="<%= fav.nom %>" class="card-img">
              <div class="card-info">
                <h3><%= fav.nom %></h3>
                <p><%= fav.prix.toFixed(2) %> ‚Ç¨</p>
              </div>
              <button class="remove-fav" data-id="<%= fav.id %>">Supprimer des favoris ‚ù§Ô∏è</button>
            </div>
          <% }); %>
        </div>
      <% } else { %>
        <p>Vous n'avez aucun favori pour le moment.</p>
      <% } %>
    </section>
  </main>

  <%- include('../partials/footer') %>

  <script>
    const userIdGlobal = "<%= user.id %>";
  </script>
  <script src="/js/profil.js"></script>
</body>
</html>
